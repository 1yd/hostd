<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'/>
    <meta http-equiv="X-UA-Compatible" content="chrome=1"/>
    <meta name="description"
          content="Hostd : Tools to custom your domain resolved rules. Used BlackHole as DNS server."/>
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/bootstrap.css">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <style>
        pre#code {
            background-color: #373737;
            color: #ffffff;
            padding: 0;
        }

        .row-fluid [class*="span"]:nth-child(3n+1) {
            margin-left: 0;
        }
    </style>

    <title>Hostd</title>
</head>

<body>

<!-- HEADER -->
<div id="header_wrap" class="outer">
    <header class="inner">
        <a id="forkme_banner" href="https://github.com/code4craft/hostd">View on GitHub</a>

        <h1 id="project_title">Hostd</h1>

        <h2 id="project_tagline">Tools to custom your domain resolved rules. Used <a
                href="https://github.com/code4craft/blackhole" target="_blank">BlackHole</a> as DNS server.</h2>

        <section id="downloads">
            <a class="zip_download_link" href="https://github.com/code4craft/hostd/zipball/master">Download this project
                as a .zip file</a>
            <a class="tar_download_link" href="https://github.com/code4craft/hostd/tarball/master">Download this project
                as a tar.gz file</a>
        </section>
    </header>
</div>

<!-- MAIN CONTENT -->
<div id="main_content_wrap" class="outer">
    <section id="main_content" class="inner">
        <div class="row-fluid">
            <div class="span12">
                <h2>
                    <a name="hostd" class="anchor" href="#hostd"><span class="octicon octicon-link"></span></a>关于
                </h2>

                <p>Hostd是面向DNS客户端的一个管理BlackHole的DNS配置的工具。</p>

                <p>
                    用户可以在Hostd里修改DNS配置(仅对自己生效)，用于开发和生产环境的域名切换。它提供Web页面和http接口，是一个跨平台的域名绑定工具。它的目标是解决hosts配置管理不方便，以及移动设备难以修改hosts文件的问题。</p>

                <p></p>
            </div>
            <div class="span12">
                <h2>
                    <a name="hostd" class="anchor" href="#hostd"><span class="octicon octicon-link"></span></a>Hostd适合谁
                </h2>
                <ul>
                    <li><p>企业内部，开发者需要快速切换域名绑定，便于测试。</p></li>
                    <li><p>移动开发者，需要对多个设备的域名绑定进行修改。</p></li>
                    <li><p>如果你只想对本地的hosts进行管理，那么<a href="https://github.com/tg123/chrome-hostadmin">HostAdmin</a>或者<a href="https://github.com/yaniswang/hostsPlus">HostsPlus</a>可能更适合你，因为Hostd还需要在本地启动一个轻量级的server。但是Hostd支持域名通配符和正则表达式，或许也能满足你的需要。</p></li>
                </ul>

            </div>
            <div class="span12">
                <h2>
                    <a class="anchor" href="#hostd"><span class="octicon octicon-link"></span></a>示例</h2>

                <p>在日常开发中，我们常常会需要将线上机器的IP绑定到本地，以便测试。在示例中，我们尝试将"www.dianping.com"域名指向本地IP"127.0.0.1"。</p>

                    <p>首先，我们测试一下"www.dianping.com"现在的IP是多少。</p>
                <div class="span12">
      <pre class="span12" id="code">

    nslookup www.dianping.com 42.96.139.35
    Server:		42.96.139.35
    Address:	42.96.139.35#53

    Non-authoritative answer:
    www.dianping.com	canonical name = www.dianping.com.cdn20.com.
    www.dianping.com.cdn20.com	canonical name = www.dianping.com.wscdns.com.
    Name:	www.dianping.com.wscdns.com
    Address: 180.153.132.49

      </pre>
                </div>
                <div class="span12">
                    <p>这个结果来自google的DNS服务器8.8.8.8，BlackHole进行了一个代理和缓存。然后我们尝试修改这个DNS绑定。</p>


                <p>hostd修改配置的界面如下(你可以尝试在下面窗口修改，或者<a href="http://42.96.139.35/z?z=IzEyNy4wLjAuMQl3d3cuZGlhbnBpbmcuY29t"
                                                    target="_blank">访问页面</a>)：</p>
                    </div>
            </div>
            <div class="span12">
                <iframe src="http://42.96.139.35/z?z=IzEyNy4wLjAuMQl3d3cuZGlhbnBpbmcuY29t" class="span10"
                        height="300px" frameborder="0"></iframe>
            </div>
            <div class="span12">
                <p>

                <p>点击选中"127.0.0.1"，然后使用nslookup进行测试。</p>
            </div>
            <div class="span12">
      <pre class="span10" id="code">

    nslookup www.dianping.com 42.96.139.35
    Server:   42.96.139.35
    Address:  42.96.139.35#53

    Non-authoritative answer:
    Name: www.dianping.com
    Address: 127.0.0.1
      </pre>
            </div>
            <div class="span12">
                <p>我们的修改成功了！取消配置的选定，则会回到正常IP。</p>

                <p>设置42.96.139.35为系统的dns服务器，即可达到动态修改域名解析的效果。</p>

                <p>hostd会<strong>为某个IP地址维护单独的域名列表</strong>，无需担心域名绑定被他人修改。</p>
            </div>
            <div class="span12">
                <h2>
                    <a class="anchor" href="#hostd"><span class="octicon octicon-link"></span></a>示例</h2>
        <pre class="span12" id="code">

    curl -L http://code4craft.github.io/hostd/install.sh | bash
                </pre>
            </div>
        </div>

    </section>
</div>

<!-- FOOTER  -->
<div id="footer_wrap" class="outer">
    <footer class="inner">
        <p class="copyright">Hostd maintained by <a href="https://github.com/code4craft">code4craft</a></p>

        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
    </footer>
</div>

<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-41279861-1");
        pageTracker._trackPageview();
    } catch (err) {
    }
</script>


</body>
</html>
